infrastructure {
  zookeeper {
    host.name = "localhost"//for ru.ps.onef.research.embeded server will be used localhost any way
    port = "2181"
  }
  kafka {
    host.name = "localhost"
    port = "9092"
    broker.id = "0"
    num.partitions = "1"
    auto.create.topics.enable = "true"
    message.max.bytes = "1000000"
    zookeeper.connect = ${infrastructure.zookeeper.host.name}":"${infrastructure.zookeeper.port}
  }
}

log {
  producer {
    topic = "log.producer"
    config {
      bootstrap.servers = ${infrastructure.kafka.host.name}":"${infrastructure.kafka.port}
      acks = "all"
      retries = "5"
      batch.size = "16384"
      linger.ms = "100"
      buffer.memory = "33554432"
      key.serializer = "org.apache.kafka.common.serialization.StringSerializer"
      value.serializer = "org.apache.kafka.common.serialization.StringSerializer"
    }
  }
  consumer {
    topic = "log.producer"
    config {
      group.id = "test"
      auto.commit.enable = "true"
      auto.commit.interval.ms = "100000"
      offsets.channel.backoff.ms = "30000"
      offsets.channel.socket.timeout.ms = "30000"
      auto.offset.reset = "smallest"
      //    session.timeout.ms = "30000"
      zookeeper.connect = ${infrastructure.zookeeper.host.name}":"${infrastructure.zookeeper.port}
    }
  }
}
docker {
  hbase {
    image-name = "vasilyzaytsev/local-hbase"
    ready-checker {
      log-line = "impl.MetricsSystemImpl: HBase metrics system started"
    }
    port-maps {
      default-rest_api-port {
        internal = 8080
        external = 60080
      }
      default-rest_web_ui-port{
        internal = 8085
        external = 60085
      }
      default-thrift_api-port{
        internal = 9090
        external = 60090
      }
      default-thrift_web_ui-port{
        internal = 9095
        external = 60095
      }
      default-embedded_zookeeper-port{
        internal = 2181
        external = 60181
      }
      default-master_web_ui-port{
        internal = 16010
        external = 60010
      }
    }
    volume-maps = [
      {
        container = "/data"
        host = "/c/Users/Vasily.Zaytsev/docker/valume2"
        rw = true
      }
    ]
  }
}